# æœ¬åœ°éƒ¨ç½²æŒ‡å—

> FairFood å¤–å–å¹³å°æœ¬åœ°å¼€å‘ç¯å¢ƒæ­å»º

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | è¯´æ˜ |
|------|----------|------|
| Node.js | >= 18.0.0 | å‰ç«¯è¿è¡Œç¯å¢ƒ |
| pnpm | >= 8.0.0 | åŒ…ç®¡ç†å·¥å…·ï¼ˆæ¨èï¼‰ |
| Git | ä»»æ„ç‰ˆæœ¬ | ä»£ç ç‰ˆæœ¬æ§åˆ¶ |
| å¾®ä¿¡å¼€å‘è€…å·¥å…· | æœ€æ–°ç‰ˆ | å°ç¨‹åºçœŸæœºè°ƒè¯• |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/DimonHo/fair-food-delivery.git
cd fair-food-delivery
```

### 2. å®‰è£…ä¾èµ–

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# å®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆmonorepoï¼‰
pnpm install
```

> å¦‚æœæ²¡æœ‰ pnpmï¼Œå¯ä»¥å…ˆå®‰è£…ï¼š
> ```bash
> npm install -g pnpm
> ```

### 3. å¯åŠ¨ç”¨æˆ·ç«¯ï¼ˆå¾®ä¿¡å°ç¨‹åºï¼‰

```bash
# è¿›å…¥ç”¨æˆ·ç«¯ç›®å½•
cd consumer-app

# å¯åŠ¨å¼€å‘æœåŠ¡ï¼ˆå¾®ä¿¡å°ç¨‹åºï¼‰
pnpm dev:weapp
```

å¯åŠ¨æˆåŠŸåï¼Œä¼šåœ¨ `dist/` ç›®å½•ä¸‹ç”Ÿæˆå°ç¨‹åºä»£ç ã€‚

### 4. å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­é¢„è§ˆ

1. æ‰“å¼€ **å¾®ä¿¡å¼€å‘è€…å·¥å…·**
2. ç‚¹å‡» **+** æ·»åŠ é¡¹ç›®
3. é€‰æ‹©ç›®å½•ï¼š`fair-food-delivery/frontend/consumer-app/dist`
4. AppID å¯ä»¥ä½¿ç”¨æµ‹è¯•å·
5. ç‚¹å‡» **ç¼–è¯‘**ï¼Œå³å¯é¢„è§ˆ

### 5. å¯åŠ¨ H5 ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰

```bash
# åœ¨ consumer-app ç›®å½•ä¸‹
pnpm dev:h5
```

è®¿é—®ï¼šhttp://localhost:10086

### 6. å¯åŠ¨éª‘æ‰‹ç«¯

```bash
# æ–°å¼€ç»ˆç«¯ï¼Œè¿›å…¥éª‘æ‰‹ç«¯ç›®å½•
cd fair-food-delivery/frontend/rider-app

pnpm dev:weapp
```

### 7. å¯åŠ¨ç®¡ç†åå°ï¼ˆå¯é€‰ï¼‰

```bash
# æ–°å¼€ç»ˆç«¯ï¼Œè¿›å…¥ç®¡ç†åå°ç›®å½•
cd fair-food-delivery/frontend/admin-web

pnpm dev
```

è®¿é—®ï¼šhttp://localhost:3000

## ğŸ”§ å¼€å‘å‘½ä»¤æ±‡æ€»

| å‘½ä»¤ | è¯´æ˜ | é€‚ç”¨ç«¯ |
|------|------|--------|
| `pnpm dev:weapp` | å¯åŠ¨å¾®ä¿¡å°ç¨‹åºå¼€å‘ | ç”¨æˆ·ç«¯/éª‘æ‰‹ç«¯ |
| `pnpm dev:h5` | å¯åŠ¨ H5 ç½‘é¡µå¼€å‘ | ç”¨æˆ·ç«¯ |
| `pnpm dev:rn` | å¯åŠ¨ React Native å¼€å‘ | ç”¨æˆ·ç«¯/éª‘æ‰‹ç«¯ |
| `pnpm build:weapp` | æ„å»ºç”Ÿäº§ç¯å¢ƒå°ç¨‹åºä»£ç  | ç”¨æˆ·ç«¯/éª‘æ‰‹ç«¯ |
| `pnpm build:h5` | æ„å»ºç”Ÿäº§ç¯å¢ƒ H5 ä»£ç  | ç”¨æˆ·ç«¯ |
| `pnpm lint` | ä»£ç æ£€æŸ¥ | æ‰€æœ‰ç«¯ |
| `pnpm lint:fix` | è‡ªåŠ¨ä¿®å¤ä»£ç é—®é¢˜ | æ‰€æœ‰ç«¯ |

## ğŸ“± åŠŸèƒ½é¢„è§ˆ

### ç”¨æˆ·ç«¯åŠŸèƒ½

| é¡µé¢ | è®¿é—®è·¯å¾„ | åŠŸèƒ½ |
|------|----------|------|
| é¦–é¡µ | `/pages/index/index` | å•†å®¶åˆ—è¡¨ã€æœç´¢ã€åˆ†ç±» |
| å•†å®¶è¯¦æƒ… | `/pages/merchant/index` | å•†å“åˆ—è¡¨ã€åŠ å…¥è´­ç‰©è½¦ |
| è´­ç‰©è½¦ | `/pages/cart/index` | å•†å“ç®¡ç†ã€ç»“ç®— |
| ä¸‹å•ç»“ç®— | `/pages/checkout/index` | åœ°å€é€‰æ‹©ã€æ”¯ä»˜ |
| è®¢å•åˆ—è¡¨ | `/pages/order/list` | è®¢å•ç®¡ç† |
| è®¢å•è¯¦æƒ… | `/pages/order/detail` | è®¢å•çŠ¶æ€è·Ÿè¸ª |
| ç™»å½• | `/pages/login/index` | æ‰‹æœºå·ç™»å½• |
| åœ°å€ç®¡ç† | `/pages/address/index` | åœ°å€å¢åˆ æ”¹æŸ¥ |
| æœç´¢ | `/pages/search/index` | å•†å®¶/å•†å“æœç´¢ |
| ä¸ªäººä¸­å¿ƒ | `/pages/profile/index` | ç”¨æˆ·ä¿¡æ¯ã€è®¢å•ç»Ÿè®¡ |

### éª‘æ‰‹ç«¯åŠŸèƒ½

| é¡µé¢ | è®¿é—®è·¯å¾„ | åŠŸèƒ½ |
|------|----------|------|
| ç™»å½• | `/pages/login/index` | è´¦å·å¯†ç ç™»å½• |
| æŠ¢å•é¦–é¡µ | `/pages/home/index` | è®¢å•åˆ—è¡¨ã€æŠ¢å• |
| è®¢å•è¯¦æƒ… | `/pages/order/detail` | å–é¤ç¡®è®¤ã€é…é€å®Œæˆ |
| æ”¶å…¥ç»Ÿè®¡ | `/pages/earnings/index` | æ—¥/å‘¨/æœˆæ”¶å…¥ |
| å†å²è®¢å• | `/pages/history/index` | å†å²è®°å½• |

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜1ï¼špnpm install å¤±è´¥

```bash
# æ¸…ç†ç¼“å­˜åé‡è¯•
pnpm store prune
rm -rf node_modules pnpm-lock.yaml
pnpm install
```

### é—®é¢˜2ï¼šå¾®ä¿¡å°ç¨‹åºçœŸæœºè°ƒè¯•æ— ååº”

1. æ£€æŸ¥å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„ **è¯¦æƒ… > æœ¬åœ°è®¾ç½®** ä¸­æ˜¯å¦å‹¾é€‰äº†"ä¸æ ¡éªŒåˆæ³•åŸŸå"
2. ç¡®ä¿æ‰‹æœºå’Œç”µè„‘åœ¨åŒä¸€å±€åŸŸç½‘

### é—®é¢˜3ï¼šH5 ç‰ˆæœ¬æ ·å¼å¼‚å¸¸

```bash
# ç¡®ä¿ä½¿ç”¨å¼€å‘æ¨¡å¼
pnpm dev:h5
# ä¸è¦ä½¿ç”¨ build åçš„ä»£ç è¿›è¡Œå¼€å‘é¢„è§ˆ
```

### é—®é¢˜4ï¼šæ¥å£è¯·æ±‚å¤±è´¥

MVP ç‰ˆæœ¬ç›®å‰ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œæ­£å¼ç¯å¢ƒéœ€è¦é…ç½®åç«¯ APIï¼š

```typescript
// ä¿®æ”¹ consumer-app/config/index.ts
{
  // ...
  devServer: {
    proxy: {
      '/api': {
        target: 'http://localhost:8080', // åç«¯æœåŠ¡åœ°å€
        changeOrigin: true
      }
    }
  }
  // ...
}
```

## ğŸ“¦ æ„å»ºç”Ÿäº§ç‰ˆæœ¬

### ç”¨æˆ·ç«¯å°ç¨‹åº

```bash
cd consumer-app
pnpm build:weapp
```

æ„å»ºäº§ç‰©åœ¨ `dist/` ç›®å½•ï¼Œå¯ç›´æ¥ä¸Šä¼ åˆ°å¾®ä¿¡åå°ã€‚

### H5 ç‰ˆæœ¬

```bash
cd consumer-app
pnpm build:h5
```

æ„å»ºäº§ç‰©åœ¨ `dist/h5/` ç›®å½•ï¼Œå¯éƒ¨ç½²åˆ°ä»»æ„é™æ€æœåŠ¡å™¨ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- **é¡¹ç›®åœ°å€**: https://github.com/DimonHo/fair-food-delivery
- **Taro æ–‡æ¡£**: https://taro.zone/
- **å¾®ä¿¡å°ç¨‹åºæ–‡æ¡£**: https://developers.weixin.qq.com/miniprogram/dev/framework/

---

**æœ‰é—®é¢˜ï¼Ÿ** å¯ä»¥åœ¨ GitHub Issues ä¸­æé—®ï¼Œæˆ–åœ¨ç¤¾åŒºä¸­è®¨è®ºã€‚
