# MVP 开发计划 - 用户端与骑手端

> 先跑起来，再优化！

## 🎯 目标

快速上线一个可用的 MVP 版本：
- 消费者：微信小程序 + App
- 骑手：微信小程序 + App
- 商家：Web 管理后台

## 📱 技术选型（快速开发）

| 端 | 技术栈 | 理由 |
|----|--------|------|
| **小程序** | Taro + React | 一套代码多端运行（微信/支付宝/抖音） |
| **App** | Taro + React Native | 小程序代码可复用 |
| **Web** | React + Vite | 快速开发 |

## 📦 MVP 功能范围

### 用户端 MVP 功能

| 功能 | 优先级 | 预估工时 |
|------|--------|----------|
| 手机号登录 | P0 | 4h |
| 首页商家列表 | P0 | 8h |
| 商家详情页 | P0 | 4h |
| 购物车 | P0 | 6h |
| 下单支付 | P0 | 8h |
| 订单列表 | P0 | 4h |
| 订单详情 | P0 | 2h |
| 地址管理 | P1 | 4h |
| 搜索商家/商品 | P1 | 4h |

### 骑手端 MVP 功能

| 功能 | 优先级 | 预估工时 |
|------|--------|----------|
| 手机号登录 | P0 | 4h |
| 抢单首页 | P0 | 8h |
| 订单详情 | P0 | 4h |
| 取餐确认 | P0 | 2h |
| 配送完成 | P0 | 2h |
| 收入统计 | P1 | 4h |
| 历史订单 | P1 | 4h |

## 🏗️ 项目结构

```
frontend/
├── consumer-app/         # 用户端（Taro）
│   ├── src/
│   │   ├── pages/       # 页面
│   │   ├── components/  # 组件
│   │   ├── store/       # 状态管理
│   │   └── api/         # 接口调用
│   └── config/
├── rider-app/           # 骑手端（Taro）
│   ├── src/
│   └── config/
├── admin-web/           # 商家/运营后台（React）
│   ├── src/
│   └── config/
└── shared/              # 共享代码
    ├── constants/       # 常量
    ├── utils/           # 工具函数
    └── types/           # TypeScript 类型
```

## 🚀 快速启动

### 环境要求
- Node.js 18+
- npm / pnpm

### 启动命令

```bash
# 安装依赖
pnpm install

# 启动用户端开发服务
cd consumer-app
pnpm dev:weapp    # 微信小程序
pnpm dev:h5       # H5网页

# 启动骑手端
cd rider-app
pnpm dev:weapp

# 启动管理后台
cd admin-web
pnpm dev
```

## 📋 开发任务（可直接认领）

### 前端任务

- [ ] **consumer-app-01**: 搭建 Taro 项目脚手架
- [ ] **consumer-app-02**: 实现手机号登录页面
- [ ] **consumer-app-03**: 实现首页商家列表
- [ ] **consumer-app-04**: 实现商家详情页
- [ ] **consumer-app-05**: 实现购物车功能
- [ ] **consumer-app-06**: 实现下单支付流程
- [ ] **consumer-app-07**: 实现订单列表页
- [ ] **rider-app-01**: 搭建骑手端项目
- [ ] **rider-app-02**: 实现抢单首页
- [ ] **rider-app-03**: 实现配送流程页面

### 后端配合任务

- [ ] **backend-01**: 开放用户相关 API（登录、注册）
- [ ] **backend-02**: 开放商家列表 API
- [ ] **backend-03**: 开放下单相关 API
- [ ] **backend-04**: 开放派单相关 API

## 🎨 UI 参考

- 简洁、清晰、高效
- 参考美团外卖核心交互
- 深色模式可选

## 📱 核心页面原型

### 用户端首页
```
┌────────────────────┐
🔍 搜索商家/商品      │
├────────────────────┤
🍔 快餐便当 (10+)     │
├────────────────────┤
🏪 商家A · 4.8⭐     │
  招牌牛肉面 ¥18    │
├────────────────────┤
🏪 商家B · 4.7⭐     │
  宫保鸡丁 ¥16     │
└────────────────────┘
```

### 骑手端首页
```
┌────────────────────┐
📍 当前定位           │
├────────────────────┤
💰 今日收入 ¥156.00  │
├────────────────────┤
📦 待取货 (3)         │
  商家A → 用户A 2.3km │
├────────────────────┤
📦 待取货 (2)         │
  商家B → 用户B 1.8km │
└────────────────────┘
```

## 🧪 测试计划

1. 单元测试覆盖率 > 60%
2. 核心流程手动测试
3. 模拟 100 并发测试

## 📅 里程碑

| 时间 | 目标 |
|------|------|
| **Week 1** | 前后端联调，完成用户端核心流程 |
| **Week 2** | 完成骑手端核心流程 |
| **Week 3** | 内测，修复 Bug |
| **Week 4** | 正式发布 MVP 版本 |

---

*文档版本：v1.0.0*
*最后更新：2025-01-31*
